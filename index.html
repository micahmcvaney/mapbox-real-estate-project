<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>MapBox Controls - Combined</title>

    <!-- Mapbox GL JS and CSS -->
    <link href="https://api.mapbox.com/mapbox-gl-js/v2.7.0/mapbox-gl.css" rel="stylesheet" />
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.7.0/mapbox-gl.js"></script>

    <style>
      /* Fullscreen map */
      body { margin: 0; padding: 0; }
      #map { position: absolute; top: 0; bottom: 0; width: 100%; }
      /* Style for the language selector dropdown */
      .languages {
        position: absolute;
        top: 10px;
        left: 10px;
        background: white;
        padding: 5px;
        border-radius: 4px;
        z-index: 1;
      }
      /* GitHub button style */
      .github {
        position: absolute;
        top: 10px;
        right: 10px;
        z-index: 1;
      }
    </style>
  </head>
  
  <body>
    <!-- Map container for Mapbox to render the map -->
    <div id="map"></div>

    <!-- Language selection dropdown -->
    <select id="languages" class="languages">
      <option value="" selected>Browser detect</option>
      <option value="en">English</option>
      <option value="de">German</option>
      <option value="ru">Russian</option>
      <option value="zh">Chinese</option>
      <option value="ar">Arabic</option>
      <option value="mul">Multiple languages</option>
    </select>

    <!-- GitHub button -->
    <div class="github">
      <a class="github-button" href="https://github.com/korywka/mapbox-gl-controls" data-show-count="true" data-size="large">
        View on GitHub
      </a>
    </div>

    <!-- Mapbox GL JS Initialization Script -->
    <script>
      // Mapbox access token
      mapboxgl.accessToken = 'pk.eyJ1IjoibWljYWhtY3ZhbmV5IiwiYSI6ImNtMHlxZG9pbDBwengyaW9mZGw2YmwybnUifQ.0Y9i985d3ou0nKOa3_7azA';

      // Initialize the Mapbox map
      const map = new mapboxgl.Map({
        container: 'map', // ID of the map container element
        style: 'mapbox://styles/mapbox/streets-v11', // Map style
        center: [-74.5, 40], // Starting position [longitude, latitude]
        zoom: 9 // Initial zoom level
      });

      // Add zoom and rotation controls to the map
      map.addControl(new mapboxgl.NavigationControl());

      // Add a marker with a popup
      new mapboxgl.Marker()
        .setLngLat([-74.5, 40]) // Marker coordinates
        .setPopup(new mapboxgl.Popup().setHTML("<h3>Hello World!</h3>")) // Popup content
        .addTo(map); // Add the marker to the map

      // Add event listener for language change (just for demo purposes)
      document.getElementById('languages').addEventListener('change', function(e) {
        const lang = e.target.value;
        if (lang) {
          alert('Language changed to: ' + lang); // Simple language change handler
        }
      });
    </script>
  </body>
</html>

